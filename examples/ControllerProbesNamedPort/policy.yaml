apiVersion: pac.weave.works/v2beta1
kind: Policy
metadata:
  name: weave.templates.container-named-port
spec:
  id: weave.templates.container-named-port
  name: Container Named Port
  description: "This Policy checks the named port of your containers to see if they are set in your container probes. \n"
  how_to_solve: |
    https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#define-startup-probes
  category: weave.categories.best-practices
  severity: high
  parameters:
    - name: probe
      type: string
      required: true
      value: livenessProbe
